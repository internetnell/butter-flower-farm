<style>
.footer-container{
margin-top: var(--space-xxl);
}
/*-- Newsletter --*/
.newsletter{
grid-column: 1 / span 6;
}
.newsletter h1{
margin-top:0;
margin-bottom: var(--space-md);
}
.newsletter form{
width: 70%;
border-bottom: 1px dashed var(--color-contrast);
display: flex;
}
.newsletter input{
font-family: "nimbus-condensed", "sans-serfif";
font-size: var(--font-size-label);
line-height: var(--line-height-title);
color: var(--color-contrast);
text-decoration: none;
font-weight: normal;
text-decoration: none;
border: none;
width: auto;
flex-grow: 1;
margin: 5px 0 5px 0;
padding: 0;
background-color: transparent;
}
.newsletter input:focus{
outline: none;
}
.newsletter button{
font-family: "nimbus-condensed", "sans-serfif";
font-size: var(--font-size-label);
line-height: var(--line-height-title);
color: var(--color-contrast);
text-decoration: none;
border: none;
background-color: transparent;
margin: 0;
padding: 0;
cursor: pointer;
}
.newsletter button:hover{
filter: blur(1.5px);
}
/*-- Footer Links --*/
footer ul{
list-style: none;
padding: 0;
margin: 0;
}
footer li{
margin-bottom: var(--space-xxs);
}

.links-1{
grid-column: 9 / span 2;
margin-top: var(--space-xs);
}
.links-2{
grid-column: 11 / span 2;
margin-top: var(--space-xs);
}
footer a{
font-family: "nimbus", "sans-serif";
font-size: var(--font-size-body);
line-height: var(--line-height-title);
color: var(--color-contrast);
text-decoration: none;
}
footer a:hover {
filter: blur(1.5px);
}

/*-- Footer Buttons --*/
.footer-buttons{
margin: var(--space-xxl) var(--space-lg) 0 var(--space-lg);
gap: 0;
padding: 0 0 32px 0;
}

.footer-buttons a{
flex-grow: 1;
font-family: "nimbus-condensed", "sans-serfif";
font-size: var(--font-size-subtitle);
line-height: var(--line-height-title);
text-align: center;
text-decoration: none;
font-weight: 900;
font-style: normal;
radius: 0;
border: none;
padding: 6 0;
cursor: pointer;
}

.btn-facebook{
grid-column: 1 / span 4;
background-color: var(--color-accent-1);
color: var(--color-primary);
}

.btn-instagram{
grid-column: 5 / span 4;
background-color: var(--color-accent-2);
color: var(--color-primary);
}

.btn-contact{
grid-column: 9 / span 4;
background-color: var(--color-primary);
color: var(--color-contrast);
}

.btn-facebook:hover{
  background-color: var(--color-primary);
  color: var(--color-contrast);
  filter: blur(1.5px);
}

.btn-instagram:hover{
  background-color: var(--color-secondary);
  filter: blur(1.5px);
}

.btn-contact:hover{
  background-color: var(--color-accent-1);
  filter: blur(1.5px);
}

/* ---- Modal Styles ---- */
.modal {
  display: none;
  align-items: center;
  justify-content: center;
  position: fixed;
  z-index: 99999;
  left: 0;
  top: 0;
  width: 100vw;
  height: 100vh;
  background-color: var(--color-primary);
}

.modal-content {
  background: url('https://cdn.shopify.com/s/files/1/0763/4495/1042/files/sky-bg.png?v=1755912421');
  padding: 20px;
  width: 90%;
  max-width: 500px;
  border-radius: 8px;
  position: relative;
  border: 1px dashed var(--color-contrast);
}

.modal-content h2 {
  margin-top: 0;
}

.modal-content input,
.modal-content select,
.modal-content textarea {
  background-color: transparent;
  width: 100%;
  margin-bottom: var(--space-sm);
  padding: 8px;
  border: 1px solid var(--color-contrast);
  font-family: inherit;
}

.modal-content button {
  background: none;
  border: none;
  color: var(--color-contrast);
  text-decoration: underline;
  cursor: pointer;
  font-family: "nimbus-condensed", "sans-serfif";
  font-size: var(--font-size-subtitle);
  line-height: var(--line-height-title);
  color: var(--color-contrast);
  font-weight: normal;
  padding: 0;
  margin-bottom: var(--space-lg);
}

.modal-content .divider {
  border-top: 1px dashed var(--color-contrast);
  margin: var(--space-sm) 0;
}

.modal .close {
  position: absolute;
  top: 30px;
  right: 30px;
  font-size: 24px;
  cursor: pointer;
}
.modal-content p{
  display: flex;
  justify-content: space-between;
}

/* ---- Mobile */
@media (max-width: 768px) {
  .newsletter {
    grid-column: 1 / span 6;
    margin-bottom: var(--space-lg);
  }

  .links-1 {
    grid-column: 1 / span 3;
    margin-bottom: var(--space-md);
  }

  .links-2 {
    grid-column: 4 / span 3;
    margin-bottom: var(--space-md);
  }

  .footer-buttons {
    grid-column: 1 / span 6;
    display: flex;
    flex-direction: column;
    margin: var(--space-md) 0 0 0;
  }

  .footer-buttons button {
    width: 100%;
  }
}
.modal-content h1{
  margin-bottom: var(--space-lg)
}
.socials-group {
  display: flex;
  justify-content: space-between;
}
.social-link-group {
  display: flex;
  gap: var(--space-sm);
}
.social-link-group a {
  color: var(--color-contrast);

}

</style>


<footer class="container footer-container">

  <div class="newsletter">
    <h1>{{ section.settings.newsletter_title }}</h1>
    
    <form id="newsletter-form" action="/contact#contact_form" method="post">
      <!-- Required hidden fields for Shopify -->
      <input type="hidden" name="form_type" value="customer">
      <input type="hidden" name="utf8" value="âœ“">
      <input type="hidden" name="customer[accepts_marketing]" value="true">
      <input type="hidden" name="contact[tags]" value="newsletter">
  
      <!-- Email input -->
      <input class="h3" type="email" name="contact[email]" placeholder="email" required>
  
      <!-- Submit button -->
      <button type="submit">Subscribe</button>
    </form>
  
    <!-- Success message -->
    <p class="success-message" style="display:none; margin-top: 10px;">Thanks for subscribing!</p>
  </div>

  {% assign total_links = linklists.footer.links.size %}
  {% assign half_links = total_links | plus: 1 | divided_by: 2 %}
  
  <div class="links-1">
    <ul>
      {% for link in linklists.footer.links limit: half_links %}
        <li><a href="{{ link.url }}">{{ link.title }}</a></li>
      {% endfor %}
    </ul>
  </div>
  
  <div class="links-2">
    <ul>
      {% for link in linklists.footer.links offset: half_links %}
        <li><a href="{{ link.url }}">{{ link.title }}</a></li>
      {% endfor %}
    </ul>
  </div>

</footer>

<div class="footer-buttons container">
  <a href="https://www.facebook.com/profile.php?id=61565917815364" target="_blank" class="btn-facebook">FACEBOOK</a>
  <a href="https://www.instagram.com/butterflowerfarm/" target="_blank" class="btn-instagram">INSTAGRAM</a>
  <a href="mailto:hello@internetnell.com" class="btn-contact">CONTACT</a>
</div>

<!-- Contact Modal -->
<div id="contact-modal" class="modal">
  <div class="modal-content">
    <span class="close">
      <svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M16.2783 1.42969L9.20703 8.50098L16.2783 15.5723L15.5713 16.2793L8.5 9.20801L1.42871 16.2793L0.72168 15.5723L7.79199 8.5L0.72168 1.42969L1.42871 0.722656L8.49902 7.79297L15.5703 0.722656L16.2783 1.42969Z" fill="#434F1A"/>
        </svg>
      </span>
    <h1>Contact us</h1>
    <form method="post" action="/contact#contact_form" id="contact_form" accept-charset="UTF-8" class="contact-form">
      <select name="contact[topic]" required>
        <option value="Wholesale inquiry">Book an event</option>
        <option value="Wholesale inquiry">Wholesale inquiry</option>
        <option value="General question">General question</option>
        <option value="Other">Other</option>
      </select>
      <input type="email" name="contact[email]" placeholder="youremail@gmail.com" required>
      <textarea name="contact[body]" placeholder="How would you like to work together?" required></textarea>
      <button type="submit">Submit</button>
    </form>

    <div class="divider"></div>
    <p>Email us <span>buds@butterflowerfarm.com</span></p>
    <div class="divider"></div>
    <div class="socials-group">
    <p>Socials
      <div class="social-link-group">
      <a href="https://www.instagram.com/butterflowerfarm/" target="_blank">Instagram</a> 
      <a href="https://www.facebook.com/profile.php?id=61565917815364" target="_blank">Facebook</a>
      </div>
    </div>
    </p>
    <div class="divider"></div>
  </div>
</div>

<script>
document.addEventListener("DOMContentLoaded", function() {
  const modal = document.getElementById("contact-modal");
  const openBtns = document.querySelectorAll(".open-contact-modal, .btn-contact");
  const closeBtn = modal.querySelector(".close");

  openBtns.forEach(btn => {
    btn.addEventListener("click", function(e) {
      e.preventDefault();
      modal.style.display = "flex";
    });
  });

  closeBtn.addEventListener("click", function() {
    modal.style.display = "none";
  });

  window.addEventListener("click", function(e) {
    if (e.target === modal) {
      modal.style.display = "none";
    }
  });
});

  document.addEventListener("DOMContentLoaded", function() {
    const form = document.getElementById("newsletter-form");
    const successMessage = form.nextElementSibling;
  
    form.addEventListener("submit", function(e) {
      e.preventDefault(); // prevent page reload
  
      const formData = new FormData(form);
  
      fetch("/contact#contact_form", {
        method: "POST",
        body: formData,
      })
      .then(response => {
        if (response.ok) {
          successMessage.style.display = "block"; // show success message
          form.reset(); // clear form
        } else {
          alert("You're subscribed!");
        }
      })
      .catch(() => {
        alert("You're subscribed!");
      });
    });
  });
  </script>

{% schema %}
{
    "name" : "Footer",
    "settings" : [
        {
            "type": "text",
            "id": "newsletter_title",
            "label": "Newsletter Title",
            "default": "Get this week's flowers in your inbox"
        }
    ],
    "presets" : [
        {
            "name": "Footer",
            "category": "Footer"
        }
    ]
}
{% endschema %}